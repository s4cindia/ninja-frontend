In `@src/components/acr/ConfidenceCalculationModal.tsx`:
- Around line 33-41: The N/A detection in ConfidenceCalculationModal is too
narrow: update the isNA check (used where c, score,
acc.notApplicable/acc.applicable are referenced) to also treat items with
c.status === 'not_applicable' or c.isNotApplicable === true as N/A in addition
to the existing 'naSuggestion' check so that CriterionConfidenceWithIssues
entries without naSuggestion are correctly counted as notApplicable rather than
applicable.

In `@src/components/acr/EditableCriteriaTable.tsx`:
- Around line 199-231: The icon-only Buttons (the ones rendering X, Check,
Edit2, History) lack accessible names; update each Button in this block to
include an appropriate aria-label (or aria-labelledby) describing the action and
context — e.g., for the save button used in handleSave(criterion.criterionId)
use aria-label="Save criterion" (or include the criterion name/id), for the
cancel button use aria-label="Cancel edit", for the edit button used in
handleEdit(criterion) use aria-label="Edit criterion" (append
criterion.criterionId or name for uniqueness), and for the history button use
aria-label="View history" (or "History for criterion"). Ensure these labels are
set on the Button elements (the same components rendering <X />, <Check />,
<Edit2 />, <History />) so screen readers announce their purpose.

In `@src/components/acr/NACriteriaSection.tsx`:
- Around line 25-33: The local DetectionCheck type in NACriteriaSection is
incorrect (it only has description and result limited to 'pass'|'fail'), causing
dropped text and mislabelled 'warning' states; replace it with the shared check
type used across the app (the type that includes fields like check, details (or
description), and result: 'pass'|'fail'|'warning'), import that shared type into
NACriteriaSection, update any local references (e.g., the naCriteria prop usage
and any state or map operations inside NACriteriaSection and the block around
the other occurrence at ~lines 315-329) to use the shared type and its correct
field names so warnings render text and state correctly.

In `@src/components/acr/VerificationItem.tsx`:
- Around line 913-919: The undo-N/A handler currently forces the form into a
verified state; update handleUndoNASuggestion so it clears the selection and
forces manual choice by calling setNaAccepted(false), setFormStatus('') (or
recompute default empty status), setFormMethod('') (clear method instead of
'Manual Review'), and setFormNotes('') so the user must explicitly pick a
status/method before submitting.

In `@src/components/acr/VersionTimelineSidebar.tsx`:
- Around line 212-220: The version card (Card JSX using className and onClick
calling handleVersionClick(version.id)) is not keyboard-accessible; make it
focusable and actionable by either converting the clickable header to a semantic
<button> or by adding keyboard semantics: give the Card a tabIndex={0},
role="button", aria-pressed or aria-expanded as appropriate (based on
isSelected/isCurrent/version.isLatest), and handle onKeyDown to invoke
handleVersionClick(version.id) for Enter and Space keys; ensure visual focus
styles remain (ring classes already used) and update any aria labels to include
the version id or label for screen readers.
- Around line 12-16: In VersionTimelineSidebar.tsx update the import paths for
the UI components so their casing matches the filenames: change the imports for
Button, Card and Badge to use '@/components/ui/Button', '@/components/ui/Card'
and '@/components/ui/Badge' respectively (leave ScrollArea and Separator imports
as-is); this ensures the symbols Button, Card and Badge resolve correctly on
case-sensitive filesystems.

In `@src/components/ui/Dialog.tsx`:
- Around line 125-160: DialogClose currently renders a button but has no way to
close the dialog because DialogContext was removed; add a clear API to wire
closing by adding an optional onClose prop to the DialogClose component (props:
onClose?: () => void) and invoke it inside the button's onClick handler (falling
back to any passed onClick), or alternatively re-introduce a minimal
DialogContext that exposes onOpenChange and have DialogClose call
onOpenChange(false); update the DialogCloseProps type to include onClose and
ensure the forwardRef component forwards and composes onClick so consumers can
still override behavior.
- Around line 10-40: The Dialog component lacks focus trapping, Escape key
handling, and ARIA relations; update the Dialog React component to (1) trap
keyboard focus while open—either integrate a library like focus-trap-react (wrap
children with <FocusTrap> when open) or implement a custom trap that queries
focusable elements, handles Tab/Shift+Tab boundary behavior, and restores focus
on close; (2) add a keydown listener when open to call onOpenChange(false) on
Escape and ensure it is removed on cleanup; and (3) expose aria-labelledby and
aria-describedby on the dialog node (connect them to your
DialogTitle/DialogDescription IDs) and ensure focus is moved into the dialog
when opened and restored when closed.

In `@src/components/ui/InfoTooltip.tsx`:
- Around line 201-207: The tooltip trigger is a non-focusable div so keyboard
users cannot access it; make the element keyboard-accessible by adding
tabindex={0} and an appropriate role (e.g., role="button") to the element
referenced by triggerRef, add onFocus/onBlur handlers that call show/hide
respectively, and add an onKeyDown handler that listens for Enter/Space to
invoke handleClick (and optionally Escape to hide) so keyboard users can open
and dismiss the tooltip; update the element with these handlers where
triggerRef, show, hide, and handleClick are used.

In `@src/pages/acr/AcrReportReviewPage.tsx`:
- Line 41: Call useUpdateCriterion with only acrJobId (remove the second
argument), i.e. change useUpdateCriterion(acrJobId, criterion.id) to
useUpdateCriterion(acrJobId), and update calls to the returned mutate function
(updateCriterion) to pass a single object { criterionId: criterion.id, updates:
{ ... } } — for example include verificationStatus inside updates; the hook
definition in useAcrReport.ts (expects { criterionId, updates }) should be used
as the contract.

In `@src/pages/acr/AcrWorkflowPage.tsx`:
- Around line 286-291: The confidence data fetch currently hard-codes the
edition string; update the useConfidenceWithIssues call to use the selected
edition code (state.selectedEdition?.code) instead of 'VPAT2.5-INT' and change
the enabled condition to require state.selectedEdition to exist (e.g., enabled:
!!state.jobId && state.currentStep === 4 && analysisResults.length === 0 &&
!!state.selectedEdition). Locate the call to useConfidenceWithIssues in
AcrWorkflowPage (the const { data: confidenceData } =
useConfidenceWithIssues(...) line) and replace the literal edition with
state.selectedEdition?.code while gating the fetch on selectedEdition being
present.